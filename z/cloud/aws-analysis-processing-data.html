<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Overview of Athena, Redshift, Kinesis Firehose, EMR, etc.</title></head><body><article class="page serif"><header><div class="page-header-icon undefined"><img class="icon" src="https://www.notion.so/icons/document_red.svg"/></div><h1 class="page-title">Overview of Athena, Redshift, Kinesis Firehose, EMR, etc.</h1><p class="page-description"></p><table class="properties"><tbody><tr class="property-row property-row-created_by"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesCreatedBy"><path d="M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 10.4229C6.05176 10.4229 4.54785 11.1133 3.83008 11.9131C2.90039 10.9082 2.33301 9.55469 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 9.55469 13.1064 10.9082 12.1699 11.9131C11.4521 11.1133 9.94824 10.4229 8 10.4229ZM8 9.30176C9.32617 9.30859 10.3516 8.18066 10.3516 6.71094C10.3516 5.33008 9.31934 4.18164 8 4.18164C6.6875 4.18164 5.6416 5.33008 5.64844 6.71094C5.65527 8.18066 6.68066 9.28809 8 9.30176Z"></path></svg></span>Created by</th><td><span class="user"><img src="Overview%20of%20Athena,%20Redshift,%20Kinesis%20Firehose,%20EM%20d978f27c0e254c5f9e3bd3b880c5078d/IMG_2295.jpg" class="icon user-icon"/>JiaLin Huang</span></td></tr><tr class="property-row property-row-last_edited_time"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesCreatedAt"><path d="M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM8 13.7383C4.85547 13.7383 2.33301 11.209 2.33301 8.06445C2.33301 4.91992 4.84863 2.39746 7.99316 2.39746C11.1377 2.39746 13.6738 4.91992 13.6738 8.06445C13.6738 11.209 11.1445 13.7383 8 13.7383ZM4.54102 8.91211H7.99316C8.30078 8.91211 8.54004 8.67285 8.54004 8.37207V3.8877C8.54004 3.58691 8.30078 3.34766 7.99316 3.34766C7.69238 3.34766 7.45312 3.58691 7.45312 3.8877V7.83203H4.54102C4.2334 7.83203 4.00098 8.06445 4.00098 8.37207C4.00098 8.67285 4.2334 8.91211 4.54102 8.91211Z"></path></svg></span>Last edited</th><td><time>@2024年10月30日 20:46</time></td></tr><tr class="property-row property-row-multi_select"><th><span class="icon property-icon"><svg role="graphics-symbol" viewBox="0 0 16 16" style="width:14px;height:14px;display:block;fill:rgba(55, 53, 47, 0.45);flex-shrink:0" class="typesMultipleSelect"><path d="M1.91602 4.83789C2.44238 4.83789 2.87305 4.40723 2.87305 3.87402C2.87305 3.34766 2.44238 2.91699 1.91602 2.91699C1.38281 2.91699 0.952148 3.34766 0.952148 3.87402C0.952148 4.40723 1.38281 4.83789 1.91602 4.83789ZM5.1084 4.52344H14.3984C14.7607 4.52344 15.0479 4.23633 15.0479 3.87402C15.0479 3.51172 14.7607 3.22461 14.3984 3.22461H5.1084C4.74609 3.22461 4.45898 3.51172 4.45898 3.87402C4.45898 4.23633 4.74609 4.52344 5.1084 4.52344ZM1.91602 9.03516C2.44238 9.03516 2.87305 8.60449 2.87305 8.07129C2.87305 7.54492 2.44238 7.11426 1.91602 7.11426C1.38281 7.11426 0.952148 7.54492 0.952148 8.07129C0.952148 8.60449 1.38281 9.03516 1.91602 9.03516ZM5.1084 8.7207H14.3984C14.7607 8.7207 15.0479 8.43359 15.0479 8.07129C15.0479 7.70898 14.7607 7.42188 14.3984 7.42188H5.1084C4.74609 7.42188 4.45898 7.70898 4.45898 8.07129C4.45898 8.43359 4.74609 8.7207 5.1084 8.7207ZM1.91602 13.2324C2.44238 13.2324 2.87305 12.8018 2.87305 12.2686C2.87305 11.7422 2.44238 11.3115 1.91602 11.3115C1.38281 11.3115 0.952148 11.7422 0.952148 12.2686C0.952148 12.8018 1.38281 13.2324 1.91602 13.2324ZM5.1084 12.918H14.3984C14.7607 12.918 15.0479 12.6309 15.0479 12.2686C15.0479 11.9062 14.7607 11.6191 14.3984 11.6191H5.1084C4.74609 11.6191 4.45898 11.9062 4.45898 12.2686C4.45898 12.6309 4.74609 12.918 5.1084 12.918Z"></path></svg></span>Tags</th><td><span class="selected-value select-value-color-purple">Post</span><span class="selected-value select-value-color-red">aws</span></td></tr></tbody></table></header><div class="page-body"><figure class="image"><a href="https://d2908q01vomqb2.cloudfront.net/c5b76da3e608d34edb07244cd9b875ee86906328/2022/03/16/services.png"><img style="width:528px" src="https://d2908q01vomqb2.cloudfront.net/c5b76da3e608d34edb07244cd9b875ee86906328/2022/03/16/services.png"/></a></figure><p class="">
</p><table class="simple-table"><tbody><tr><td class=""></td><td class="" style="width:129.2512969970703px">SQL Query</td><td class="" style="width:157.6640625px">Real-time Processing</td><td class="" style="width:109px">Preprocessing</td><td class="">Post-processing</td><td class="">more on analysis</td></tr><tr><td class="">Kinesis Data Streams</td><td class="" style="width:129.2512969970703px"></td><td class="" style="width:157.6640625px">✅</td><td class="" style="width:109px"></td><td class=""></td><td class=""></td></tr><tr><td class="">Kinesis Firehose</td><td class="" style="width:129.2512969970703px"></td><td class="" style="width:157.6640625px">✅</td><td class="" style="width:109px">✅</td><td class=""></td><td class=""></td></tr><tr><td class="">Kinesis Data Analytics</td><td class="" style="width:129.2512969970703px"></td><td class="" style="width:157.6640625px">✅</td><td class="" style="width:109px"></td><td class=""></td><td class="">✅</td></tr><tr><td class="">Amazon MSK</td><td class="" style="width:129.2512969970703px"></td><td class="" style="width:157.6640625px">✅</td><td class="" style="width:109px"></td><td class=""></td><td class=""></td></tr><tr><td class="block-color-red_background">EMR</td><td class="block-color-red_background" style="width:129.2512969970703px">✅ HiveQL, Spark SQL</td><td class="block-color-red_background" style="width:157.6640625px">✅</td><td class="block-color-red_background" style="width:109px">✅</td><td class="block-color-red_background">✅</td><td class="block-color-red_background">✅</td></tr><tr><td class="">Glue</td><td class="" style="width:129.2512969970703px">✅</td><td class="" style="width:157.6640625px"></td><td class="" style="width:109px">✅</td><td class="">✅</td><td class="">✅ (Glue Data Catalog)</td></tr><tr><td class="">Athena</td><td class="" style="width:129.2512969970703px">✅</td><td class="" style="width:157.6640625px"></td><td class="" style="width:109px">for s3 analysis</td><td class="">✅</td><td class="">✅</td></tr><tr><td class="">Redshift</td><td class="" style="width:129.2512969970703px">✅</td><td class="" style="width:157.6640625px"></td><td class="" style="width:109px">query, analysis<br/>OLAP<br/></td><td class="">✅</td><td class="">✅</td></tr><tr><td class="">Lake Formation</td><td class="" style="width:129.2512969970703px">✅</td><td class="" style="width:157.6640625px"></td><td class="" style="width:109px">✅</td><td class="">✅</td><td class="">✅</td></tr></tbody></table><ol type="1" class="numbered-list" start="1"><li>Athena can query data in any format stored in S3.</li></ol><ol type="1" class="numbered-list" start="2"><li>Redshift can ingest data in near real-time, but has limited real-time processing capabilities.</li></ol><ol type="1" class="numbered-list" start="3"><li>Kinesis Firehose is primarily used to transform data into the format required by other services, rather than focusing on real-time processing.</li></ol><ol type="1" class="numbered-list" start="4"><li>EMR is the most feature-rich tool among the ones mentioned.</li></ol><p class="">
</p><h1 class="">Choosing</h1><h3 class="">Real-time Monitoring Use Cases</h3><ol type="1" class="numbered-list" start="1"><li>Needs complex processing -&gt; EMR</li></ol><ol type="1" class="numbered-list" start="2"><li>Financial transactions, cybersecurity -&gt; MSK</li></ol><ol type="1" class="numbered-list" start="3"><li>Simple use cases -&gt; Kinesis Data Streams</li></ol><h3 class="">Analytics Use Cases</h3><p class="">Smaller scale:</p><ol type="1" class="numbered-list" start="1"><li>Redshift: department historical data, business logic analysis<p class="">like a information center</p></li></ol><ol type="1" class="numbered-list" start="2"><li>Athena: flexible analysis of data in S3<ol type="a" class="numbered-list" start="1"><li>Just grab it whenever you feel like checking something.</li></ol></li></ol><p class="">Larger scale:</p><ol type="1" class="numbered-list" start="1"><li>MSK: high throughput, low latency, suitable for transactional workloads</li></ol><ol type="1" class="numbered-list" start="2"><li>EMR: complex analysis, machine learning, anomaly detection</li></ol><ol type="1" class="numbered-list" start="3"><li>Kinesis Data Analytics: real-time monitoring dashboards for website traffic, purchasing behavior<p class="">Like when an e-commerce site is about to launch a new product, and they need to see real-time customer behavior immediately.</p></li></ol><p class="">Others:</p><ol type="1" class="numbered-list" start="1"><li>Glue: automated ETL, prepare data for use by other tools.</li></ol><ol type="1" class="numbered-list" start="2"><li>Lake Formation: data governance, sharing and access control<p class="">like IAM or similar identity providers.</p></li></ol><p class="">
</p><h1 class="">Pipeline Scenarios</h1><h3 class="">Real-time Analytics</h3><p class="">Kinesis Data Streams -&gt; Kinesis Data Analytics -&gt; S3 -&gt; Athena</p><h3 class="">Batch ETL</h3><p class="">S3 (origin) -&gt; Glue ETL -&gt; Redshift -&gt; Athena</p><h3 class="">Streaming ETL</h3><p class="">MSK -&gt; EMR(Spark Streaming) -&gt; S3 -&gt; Redshift</p><h3 class="">Data Lake</h3><p class="">Kinesis Firehose -&gt; S3 -&gt; Lake Formation -&gt; Athena</p><h3 class="">Hybrid Analytics</h3><p class="">realtime: Kinesis Data Streams -&gt; Kinesis Analytics -&gt; S3</p><p class="">batching: S3 -&gt; Glue ETL -&gt; S3</p><p class=""><strong>then analysis: Redshift (integrate both from realtime and batching) -&gt; Athena (query)</strong></p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body>